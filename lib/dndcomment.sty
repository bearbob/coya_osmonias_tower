% Green comment box definition
\newtcolorbox{commentbox}[2][]{
	frame hidden,
	boxrule=0pt,
	breakable,
	enhanced,
	before skip=8pt plus 1pt,
	toptitle=3mm,
	boxsep=0.25ex,
	left=8pt,
	right=8pt,
	arc=0mm,
	fonttitle=\fontfamily{fosj}\selectfont\scshape\bfseries\color{black},
	fontupper=\fontfamily{lmss}\selectfont,
	title=#2,
	parbox = false,
	colback=commentgreen,
	colframe=commentgreen,
	colbacktitle=commentgreen,
	after={\vspace{5pt plus 1pt}\noindent},
	#1
}

\newtcolorbox{lorebox}[2][]{
	frame hidden,
	boxrule=0pt,
	breakable,
	enhanced,
	before skip=11pt plus 1pt,
	toptitle=3mm,
	boxsep=0.25ex,
	left=8pt,
	right=8pt,
	fonttitle=\fontfamily{fosj}\selectfont\scshape\bfseries\color{black},
	fontupper=\fontfamily{lmss}\selectfont,
	title=#2,
	arc=0mm,
	parbox = false,
	borderline north={1pt}{-0.5pt}{black},
	borderline south={1pt}{-0.5pt}{black},
	colback=commentgreen,
	colframe=commentgreen,
	colbacktitle=commentgreen,
	fuzzy shadow={0mm}{-3.5pt}{-0.5pt}{0.4mm}{black!60!white},
	overlay={
		\fill [fill=black] (frame.south west) -- ++(7pt,0) -- ++(0,-5pt) -- cycle;
		\fill [fill=black] (frame.north west) -- ++(7pt,0) -- ++(0,5pt) -- cycle;
		\fill [fill=black] (frame.north east) -- ++(-7pt,0) -- ++(0,5pt) -- cycle;
		\fill [fill=black] (frame.south east) -- ++(-7pt,0) -- ++(0,-5pt) -- cycle;
		},
	after={\vspace{10pt plus 1pt}\noindent},
	#1
}

%
% Old implementation using mdframed
%
%\newenvironment{commentbox}[1]
%{\fontfamily{lmss}\selectfont\begin{mdframed}[frametitle={#1},
%                                          frametitlefont=\fontfamily{fosj}\selectfont\scshape\bfseries\color{black},
%                                              linecolor=commentgreen,
%                                              backgroundcolor=commentgreen]}
%{\end{mdframed}}

